## wire (by Google)
* Code Generation 을 이용해 Dependency Injection 을 수행하는 도구

## 설치
* 라이브러리
```
$ go get github.com/google/wire
```
* wire 명령어
```shell
$ go install github.com/google/wire/cmd/wire@latest
```

## wire.go 작성
```go
// +build wireinject

package main

import (
	"github.com/google/wire"
	bean2 "go_for_spring_developer/10-dependency-injection/e1/bean"
)

func initializeUserService() *bean2.UserService {
	wire.Build(bean2.NewUserService, bean2.NewUserRepository)
	return &bean2.UserService{}
}

```
* wire.go 파일이 있는 경로에서 `wire .` 명령어 실행
```shell
$ wire .
```
## 자동으로 생성된 wire-gen.go
```go
// Code generated by Wire. DO NOT EDIT.

//go:generate go run github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package main

import (
	"go_for_spring_developer/10-dependency-injection/e1/bean"
)

// Injectors from wire.go:

func initializeUserService() *bean.UserService {
	userRepository := bean.NewUserRepository()
	userService := bean.NewUserService(userRepository)
	return userService
}

```

## 생성된 코드 사용
```go
func main() {
	//r := bean.NewUserRepository()
	//s := bean.NewUserService(r)
	s := initializeUserService()
	fmt.Println(s.GetUsers())
}
```

